apply plugin: 'java'
apply plugin: 'eclipse'
apply plugin: 'application'

repositories {
    mavenCentral()
}

group = 'p950tes'
version = '0.0.2'

sourceCompatibility = 17
targetCompatibility = 17

sourceSets.main.java.srcDirs = ['src/main/java']
mainClassName = "com.p950tes.beertasting.BeerTastingEventFinder"

dependencies {
    implementation 'org.apache.commons:commons-lang3:3.12.0'
    implementation 'commons-io:commons-io:2.11.0'
    implementation 'com.fasterxml.jackson.core:jackson-databind:2.13.0'
}

jar {
	duplicatesStrategy = 'include'
	manifest {
       attributes "Main-Class": "$mainClassName"
	}
	from {
		//configurations.runtimeClasspath.findAll { it.name.endsWith('jar') }.collect { zipTree(it)}
		configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }
	}
}
